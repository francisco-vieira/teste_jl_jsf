<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="pt_BR"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition template="WEB-INF/template/layout.xhtml">
    <ui:define name="title">Produtos</ui:define>
    <ui:define name="container">


        <h:form styleClass="form-control mt-2">

                <h:selectBooleanCheckbox id="listEstoque"
                                         value="#{produtoBean.estoque}"
                                         immediate="false"
                                         valueChangeListener="#{produtoBean.estoqueEvent}"
                                         onclick="submit()"
                styleClass="mr-1"/>
                <h:outputLabel value="Listar estoque baixo" for="listEstoque" styleClass="ml-auto"/>


            <h:dataTable value="#{produtoBean.produtos}"
                         var="p"
                         styleClass="table table-responsive-sm table-striped table-dark"
                         headerClass="thead-dark ">

                <h:column id="id">
                    <f:facet name="header">ID</f:facet>
                    <h:outputText value="#{p.id}"/>
                </h:column>

                <h:column id="desc">
                    <f:facet name="header">DESCRIÇÃO</f:facet>
                    <h:outputText value="#{p.descricao}"/>
                </h:column>

                <h:column id="estoque">
                    <f:facet name="header">ESTOQUE</f:facet>
                    <h:outputText value="#{p.estoque}"/>
                </h:column>

                <h:column id="quantidadeMinima">
                    <f:facet name="header">ESTOQUE MÍNIMO</f:facet>
                    <h:outputText value="#{p.quantidadeMinima}"/>
                </h:column>

                <h:column id="valor">
                    <f:facet name="header">VALOR</f:facet>
                    <h:outputText value="#{p.valor}">
                        <f:convertNumber locale="#{defaultLocale.locale}" type="currency"/>
                    </h:outputText>
                </h:column>

                <h:column id="data">
                    <f:facet name="header">DATA CADASTRO</f:facet>
                    <h:outputText value="#{p.dataCadastro}">
                        <f:convertDateTime locale="#{defaultLocale.locale}" type="date"/>
                    </h:outputText>
                </h:column>
            </h:dataTable>


        </h:form>
    </ui:define>

</ui:composition>

</html>
